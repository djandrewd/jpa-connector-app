CREATE TABLE groups (
  id   INTEGER GENERATED BY DEFAULT AS IDENTITY,
  name VARCHAR(405) DEFAULT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE users (
  LOGIN             VARCHAR(45) NOT NULL,
  PASSWORD          VARCHAR(45) NOT NULL,
  USERNAME          VARCHAR(45) NOT NULL,
  REGISTRATION_DATE TIMESTAMP   default NOW,
  PRIMARY KEY (LOGIN)
);

CREATE TABLE user_groups (
  group_id   INTEGER GENERATED BY DEFAULT AS IDENTITY,
  user_login VARCHAR(45) NOT NULL,
  PRIMARY KEY (group_id, user_login),
  CONSTRAINT FK_UG_GROUP_ID FOREIGN KEY (group_id) REFERENCES groups (id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT FK_UG_USER_LOGIN FOREIGN KEY (user_login) REFERENCES users (LOGIN)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
);
